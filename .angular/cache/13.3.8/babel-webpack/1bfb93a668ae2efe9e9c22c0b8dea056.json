{"ast":null,"code":"import * as i0 from \"@angular/core\";\n/*\r\n  Created by khoaVC\r\n  Role: Guest\r\n  Time: 10:00 21/06/2022\r\n  Service: GuestValidatorService\r\n*/\n\nexport let GuestValidatorService = /*#__PURE__*/(() => {\n  class GuestValidatorService {\n    constructor() {}\n    /*\r\n      Created by khoaVC\r\n      Role: Guest\r\n      Time: 10:00 21/06/2022\r\n      Function: comparePassword = compare password and rePassword\r\n    */\n\n\n    static comparePassword(c) {\n      const v = c.value;\n      return v.password == v.rePassword ? null : {\n        rePassword: true,\n        inValidMessage: 'Mật khẩu chưa khớp.'\n      };\n    }\n    /*\r\n      Created by khoaVC\r\n      Role: Guest\r\n      Time: 10:00 21/06/2022\r\n      Function: compareEmail = compare email and reEmail\r\n    */\n\n\n    static compareEmail(c) {\n      const v = c.value;\n      return v.email == v.reEmail ? null : {\n        reEmail: true,\n        inValidMessage: 'Email chưa khớp.'\n      };\n    }\n    /*\r\n      Created by khoaVC\r\n      Role: Guest\r\n      Time: 10:00 21/06/2022\r\n      Function: validateDateOfBirth = validate date of birth\r\n    */\n\n\n    static validateDateOfBirth(control) {\n      const v = control.value;\n      const pickedDate = new Date(v);\n      const todayDate = new Date();\n      const minDate = new Date('01-01-1800');\n\n      if (pickedDate > todayDate) {\n        return {\n          dateOfBirth: true,\n          inValidMessage: 'Bạn phải chọn ngày nhỏ hơn hoặc bằng ngày hiện tại.'\n        };\n      }\n\n      if (pickedDate < minDate) {\n        return {\n          dateOfBirth: true,\n          inValidMessage: 'Bạn phải chọn ngày lớn hơn hoặc bằng ngày 01-01-1800.'\n        };\n      }\n\n      if (GuestValidatorService.getAge(v) <= 18) {\n        return {\n          dateOfBirth: true,\n          inValidMessage: 'Bạn phải chọn ngày sao cho tuổi của bạn phải lớn hơn 18 tuổi.'\n        };\n      }\n\n      return null;\n    }\n    /*\r\n      Created by khoaVC\r\n      Role: Guest\r\n      Time: 10:00 21/06/2022\r\n      Function: validateCreateDate = validate create date\r\n    */\n\n\n    static validateCreateDate(control) {\n      const v = control.value;\n      const pickedDate = new Date(v).setHours(0, 0, 0, 0);\n      const todayDate = new Date().setHours(0, 0, 0, 0);\n      const maxDate = new Date('01-01-3000').setHours(0, 0, 0, 0);\n\n      if (pickedDate < todayDate) {\n        return {\n          createDate: true,\n          inValidMessage: 'Bạn phải chọn ngày lớn hơn hoặc bằng ngày hiện tại.'\n        };\n      }\n\n      if (pickedDate > maxDate) {\n        return {\n          createDate: true,\n          inValidMessage: 'Bạn phải chọn ngày nhỏ hơn hoặc bằng ngày 01-01-3000.'\n        };\n      }\n\n      return null;\n    }\n\n    static ageCheck(controls) {\n      if ((controls === null || controls === void 0 ? void 0 : controls.errors) && !controls.errors.under18) {\n        return null;\n      }\n\n      if (GuestValidatorService.getAge(controls === null || controls === void 0 ? void 0 : controls.value) <= 18) {\n        return {\n          under18: true\n        };\n      } else {\n        return null;\n      }\n    }\n    /*\r\n      Created by khoaVC\r\n      Role: Guest\r\n      Time: 10:00 21/06/2022\r\n      Function: getAge = calculate age from a date\r\n    */\n\n\n    static getAge(date) {\n      const today = new Date();\n      const birthDate = new Date(date);\n      let age = today.getFullYear() - birthDate.getFullYear();\n      const month = today.getMonth() - birthDate.getMonth();\n\n      if (month < 0 || month === 0 && today.getDate() < birthDate.getDate()) {\n        age--;\n      }\n\n      console.log('Age: ' + age + '\\nBirthday: ' + birthDate);\n      return age;\n    }\n\n  }\n\n  GuestValidatorService.ɵfac = function GuestValidatorService_Factory(t) {\n    return new (t || GuestValidatorService)();\n  };\n\n  GuestValidatorService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: GuestValidatorService,\n    factory: GuestValidatorService.ɵfac,\n    providedIn: 'root'\n  });\n  return GuestValidatorService;\n})();","map":null,"metadata":{},"sourceType":"module"}